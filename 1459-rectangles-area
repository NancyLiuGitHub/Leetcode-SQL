SELECT if(a1<=a2,a1,a2) p1, if(a1<=a2, a2, a1) p2, a1*a2 area
FROM (
SELECT distinct abs(p1.x-p2.x) a1, abs(p1.y - p2.y) a2
FROM points p1 left join points p2 on p1.x != p2.x and p1.y != p2.y) t
ORDER BY area, p1, p2
