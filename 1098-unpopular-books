SELECT b.book_id, b.name
FROM Books b left join Orders o on b.book_id = o.book_id
WHERE available_from >= '2019-05-23' and year(dispatch_date) = '2018'
GROUP BY book_id
HAVING SUM(quantity)<10
